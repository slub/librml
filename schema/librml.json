{
  "$defs": {
    "actions_type": {
      "items": {
        "additionalProperties": false,
        "properties": {
          "permission": {
            "type": "boolean"
          },
          "restrictions": {
            "$ref": "#/$defs/restrictions_type"
          },
          "type": {
            "enum": [
              "displaymetadata",
              "read",
              "run",
              "lend",
              "download",
              "print",
              "reproduce",
              "modify",
              "reuse",
              "distribute",
              "publish",
              "archive",
              "index",
              "move"
            ],
            "type": "string"
          }
        },
        "required": [
          "permission",
          "type"
        ],
        "type": "object"
      },
      "minItems": 0,
      "type": "array"
    },
    "restrictions_type": {
      "items": {
        "additionalProperties": false,
        "properties": {
          "count": {
            "minimum": 1,
            "type": "integer"
          },
          "duration": {
            "minimum": 1,
            "type": "integer"
          },
          "fromdate": {
            "format": "date",
            "type": "string"
          },
          "groups": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "inside": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "maxage": {
            "minimum": 1,
            "type": "integer"
          },
          "maxbitrate": {
            "minimum": 1,
            "type": "integer"
          },
          "maxresolution": {
            "minimum": 1,
            "type": "integer"
          },
          "minage": {
            "minimum": 1,
            "type": "integer"
          },
          "outside": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "parts": {
            "minimum": 1,
            "type": "integer"
          },
          "permission": {
            "type": "boolean"
          },
          "property": {
            "type": "boolean"
          },
          "sessions": {
            "minimum": 1,
            "type": "integer"
          },
          "subnet": {
            "oneOf": [
              {
                "pattern": "^((1?\\d?\\d|2[0-4]\\d|25[0-5])\\.){3}(1?\\d?\\d|2[0-4]\\d|25[0-5])/(3[0-2]|[12]?\\d)$",
                "type": "string"
              },
              {
                "pattern": "^(([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}|([0-9A-Fa-f]{1,4}:){1,7}:|([0-9A-Fa-f]{1,4}:){1,6}:[0-9A-Fa-f]{1,4}|([0-9A-Fa-f]{1,4}:){1,5}(:[0-9A-Fa-f]{1,4}){1,2}|([0-9A-Fa-f]{1,4}:){1,4}(:[0-9A-Fa-f]{1,4}){1,3}|([0-9A-Fa-f]{1,4}:){1,3}(:[0-9A-Fa-f]{1,4}){1,4}|([0-9A-Fa-f]{1,4}:){1,2}(:[0-9A-Fa-f]{1,4}){1,5}|[0-9A-Fa-f]{1,4}:((:[0-9A-Fa-f]{1,4}){1,6})|:((:[0-9A-Fa-f]{1,4}){1,7}|:))(/(12[0-8]|1[01][0-9]|[1-9]?[0-9]))$",
                "type": "string"
              }
            ]
          },
          "todate": {
            "format": "date",
            "type": "string"
          },
          "type": {
            "enum": [
              "parts",
              "group",
              "age",
              "location",
              "date",
              "duration",
              "count",
              "concurrent",
              "watermark",
              "quality",
              "agreement"
            ],
            "type": "string"
          },
          "watermarkvalue": {
            "format": "uri",
            "type": "string"
          }
        },
        "required": [
          "type"
        ],
        "type": "object"
      },
      "minItems": 0,
      "type": "array"
    }
  },
  "$id": "https://librml.org/schema/librml.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema#",
  "additionalProperties": false,
  "description": "LibRML schema version 0.4.0",
  "properties": {
    "actions": {
      "$ref": "#/$defs/actions_type"
    },
    "commercialuse": {
      "type": "boolean"
    },
    "copyright": {
      "type": "boolean"
    },
    "id": {
      "type": "string"
    },
    "mention": {
      "type": "boolean"
    },
    "sharealike": {
      "type": "boolean"
    },
    "template": {
      "type": "string"
    },
    "tenant": {
      "format": "uri",
      "type": "string"
    },
    "usageguide": {
      "format": "uri",
      "type": "string"
    }
  },
  "type": "object"
}
